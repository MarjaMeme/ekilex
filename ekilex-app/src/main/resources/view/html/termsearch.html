<!DOCTYPE html>
<html lang="et" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="common :: common_header(~{::title},~{::links})">
<title th:text="#{term.search.title}">EKILEX otsing</title>
<th:block th:fragment="links">
</th:block>
</head>
<body class="body-with-navbar compacted d-flex flex-column">
  <th:block th:replace="common :: nav_bar(activeItem = 'term')"></th:block>
  <div class="card shadow rounded-0 border-0">
    <div class="card-body px-2 py-3">
      <form id="searchForm" th:action="@{/termsearch}" method="post">
        <th:block th:replace="search :: search_form('term_search', true)"></th:block>
        <div class="form-row pt-3 align-items-center border-top border-light mt-3">
          <div class="col-auto">
            <div class="row align-items-center">
              <label class="col-auto col-form-label">Tulemused:</label>
              <div class="col-auto">
                <select name="resultLang" class="form-control classifier-select" data-live-search="true">
                  <option value="">Kõik keeled</option>
                  <option th:each="lang : ${allLanguages}" th:value="${lang.code}" th:selected="${lang.code == sessionBean.termSearchResultLang}" th:text="${lang.value}"></option>
                </select>
              </div>
              <div class="col-auto">
                <div class="btn-group btn-group-toggle" data-toggle="buttons">
                  <label class="btn btn-secondary" th:classappend="${sessionBean.termSearchResultMode == T(eki.ekilex.constant.SearchResultMode).WORD ? 'active' : ''}">
                    <span>Terminid</span>
                    <input type="radio" name="resultMode" autocomplete="off"
                           th:checked="${sessionBean.termSearchResultMode == T(eki.ekilex.constant.SearchResultMode).WORD}"
                           th:value="${T(eki.ekilex.constant.SearchResultMode).WORD}"/>
                  </label>
                  <label class="btn btn-secondary" th:classappend="${sessionBean.termSearchResultMode == T(eki.ekilex.constant.SearchResultMode).MEANING ? 'active' : ''}">
                    <span>Mõisted</span>
                    <input type="radio" name="resultMode" autocomplete="off"
                           th:checked="${sessionBean.termSearchResultMode == T(eki.ekilex.constant.SearchResultMode).MEANING}"
                           th:value="${T(eki.ekilex.constant.SearchResultMode).MEANING}"/>
                  </label>
                </div>
              </div>
            </div>
          </div>
          <div class="col-1">&nbsp;</div>
        </div>
      </form>
    </div>
  </div>
  <div class="container-fluid flex-grow-1 flex-shrink-1 d-flex flex-column h-100 overflow-auto" th:with="isSearchResult = ${termSearchResult != null}">
    <div class="mt-4 float-left" th:if="${invalidSearch}">
      <div th:text="#{term.search.invalid}"></div>
    </div>
    <div class="row no-gutters pt-2 h-100">
      <div class="mt-4 float-left" th:if="${noResults == true}">
        <div th:text="#{term.not.found}">Not found.</div>
      </div>
      <div class="col-3 pr-2 pb-2" style="height: calc(100vh - 14rem); overflow-y: auto;" id="searchColumn" th:if="${isSearchResult}">
        <div id="results_div" class="card shadow" th:if="${termSearchResult.resultExist}">
          <div th:replace="termcomp :: search_result"></div>
        </div>
      </div>
      <div class="h-100 d-flex flex-column" th:classappend="${isSearchResult ? 'col-9' : 'col-auto'}" id="resultColumn">
        <div class="scrollable-area" data-plugin="ekiSortable">
          <div id="details-area" data-rel="details-area" style="height:100%; overflow:auto;"></div>
        </div>
      </div>
    </div>
  </div>
  <th:block th:fragment="details" th:if="${meaning != null}">
    <div
    style="height:100%; overflow:auto;"
      th:data-id="${meaningId}"
      id="details-area"
      data-rel="details-area"
      th:data-word="${meaningId}"
         th:with="
           isMeaningLexemeCrudGranted=${#vars.meaning.subGrant},
           isMeaningAnyLexemeCrudGranted=${#vars.meaning.anyGrant}">
      <div th:replace="termdialog :: add_meaning_data_dlg"></div>
      <div th:replace="termdialog :: add_meaning_domain_dlg"></div>
      <div th:replace="termdialog :: add_definition_dlg"></div>
      <div th:replace="termdialog :: add_meaning_note_dlg"></div>
      <div th:replace="termdialog :: add_meaning_relation_dlg"></div>
      <div th:replace="termdialog :: add_meaning_semantic_type_dlg"></div>
      <button id="refresh-details" hidden="hidden" th:data-id="${meaningId}" name="meaning-details-btn" data-behaviour="replace"></button>
      
      <div class="navigate-panel term-panel card shadow h-100">
        <div class="card border-0 mb-2">
          
          <div class="card-body">
            <div class="border-bottom pb-2 title-bar">
              <div class="d-flex flex-row align-items-center">
                <div class="dragHandle">
                  <span class="fa fa-ellipsis-v"></span>
                  <span class="fa fa-ellipsis-v"></span>
                </div>
                <div class="hover-actions-container hover-actions-container-outline">
                  <h1 id="word-value-179411" class="mb-0"><span th:text="${meaningId}"></span></h1>
                  <div class="hover-actions hover-actions-bottom-right">
                    <button type="button" class="btn btn-secondary" title="Muuda" data-toggle="modal"
                      data-target="#editWordValueDlg_179411">
                      <i class="fa fa-pencil action-icon" aria-hidden="true"></i>
                    </button>
                  </div>
                </div>
                <div class="ml-2">
                  <button class="btn btn-secondary mr-1"
                          data-toggle="modal"
                          data-target="#newWordDlg"
                          th:data-meaning-id="${meaningId}"
                          sec:authorize="#vars.isMeaningAnyLexemeCrudGranted && #vars.userRoleData.crudRoleSelected"><span class="fa fa-plus"></span></button>
                  <a class="btn btn-secondary  mr-1" th:href="@{'/meaningjoin/' + ${meaningId}}"
                    title="Tähenduste ühendamine"
                    sec:authorize="#vars.meaning.crudGrant">Ühenda</a>
                  <button id="duplicateMeaningBtn"
                          title="Tee duplikaat mõistest ja kõigist tema ilmikutest"
                          class="btn btn-secondary mr-1"
                          th:data-meaning-id="${meaningId}"
                          sec:authorize="#vars.meaning.crudGrant">Dubleeri</button>
                  <div style="display:inline-block" class="date-modified" title="" data-toggle="tooltip" data-placement="bottom"
                    data-original-title="Viimati muudetud">
                    <i class="fa fa-calendar"></i><span th:text="${#dates.format(meaning.lastChangedOn, 'dd.MM.yyyy')}"></span>
                  </div>
                  <button class="btn btn-link" type="button"
                    th:data-id="${meaningId}"
                    data-callback="doNewSearchTermSearch"
                    data-toggle="deleteMeaningAndLexemesAndWords"
                    sec:authorize="#vars.isMeaningLexemeCrudGranted">Kustuta</button>
                  
                </div>
                <div class="ml-auto d-flex align-items-center flex-row">
                  <a th:href="@{'/meaningactivitylog:' + ${meaningId}}"
                    data-toggle="modal"
                    data-target="#meaningActivityLogDlg"
                    class="btn btn-secondary ml-2"
                    sec:authorize="#vars.meaning.readGrant">Logi</a>
                  <div th:data-id="${meaningId}" data-plugin="contextmenu" data-leftclick="true" data-contextmenu:closepanel="Sulge" class="fa fa-ellipsis-v paneMenu">
                  </div>
                </div>
              </div>

            </div>
            <div class="row">
              <div class="col">
                <button type="button" class="btn btn-secondary ml-2"
                        id="activeTagCompleteBtn"
                        th:data-meaning-id="${meaningId}"
                        th:disabled="${meaning.activeTagComplete}"
                        th:if="${userRoleData.lexemeActiveTagChangeEnabled}"
                        sec:authorize="#vars.meaning.subGrant">Märgi tehtuks
                </button>
              </div>
              <div class="col-auto form-inline">
                <button type="button" class="btn badge badge-secondary"
                        title="Lisa andmeid"
                        data-toggle="modal"
                        th:data-target="${'#addMeaningDataDlg_' + meaningId}"
                        sec:authorize="#vars.meaning.crudGrant">
                  <i class="fa fa-plus" aria-hidden="true"></i>
                </button>
              </div>
            </div>
            <div th:replace="termcomp :: meaning_domain"></div>
            <div th:replace="termcomp :: meaning_semantic_type"></div>
            <div class="row">
              <div class="col pr-0 col-w13rem">
                <span class="lbl">Seletused</span>
                <button type="button" class="btn badge badge-secondary float-right mr-4"
                        title="Lisa uus"
                        data-toggle="modal"
                        th:data-target="${'#addDefinitionDlg_' + meaningId}"
                        sec:authorize="#vars.isMeaningLexemeCrudGranted">
                  <i class="fa fa-plus" aria-hidden="true"></i>
                </button>
              </div>
              <div class="col pl-0">
                <th:block th:each="definitionLangGroup : ${meaning.definitionLangGroups}">
                  <div>
                    <span th:text="${viewUtil.getLangIso2(definitionLangGroup.lang)}" class="mr-2"></span>
                    <button name="lang-collapse-btn" type="button" class="btn badge badge-secondary btn-toggle"
                            th:data-lang="${definitionLangGroup.lang}"
                            th:title="${definitionLangGroup.selected ? 'Peida keele grupp' : 'Näita keele grupp'}">
                      <i th:class="${definitionLangGroup.selected ? 'fa fa-caret-down' : 'fa fa-caret-right'}" aria-hidden="true"></i>
                    </button>
                  </div>
                  <div th:if="${definitionLangGroup.selected}" class="orderable" data-op-code="definition">
                    <div class="ml-4" style="position: relative" th:each="definition, itemIter: ${definitionLangGroup.definitions}"
                        th:data-id="${definition.id}"
                        th:data-orderby="${definition.orderBy}">
                      <div th:replace="termdialog :: edit_definition_dlg"></div>
                      <div th:replace="termdialog :: add_definition_source_link_dlg"></div>
                      <div th:replace="termdialog :: add_definition_note_dlg"></div>
                      <div style="display: list-item; position: absolute"></div>
                      <div class="action-column">
                        <th:block th:replace="common :: ordering_buttons(${itemIter})" sec:authorize="#vars.meaning.crudGrant"></th:block>
                      </div>
                      <div class="invisible-buttons action-buttons-anchor mw-80">
                        <span th:utext="${definition.value}"></span>
                        <span class="font-italic text-info" th:text="${definition.typeValue}"></span>
                        <span class="ctxt" th:text="'(' + #{'boolean.public.' + ${definition.public}} + ')'" th:if="${definition.crudGrant}"></span>
                        <span th:if="${#lists.isEmpty(definition.sourceLinks)}" class="show-on-mouseover">
                          [
                          <button type="button" class="btn badge badge-secondary"
                                  title="Lisa allikaviide"
                                  data-toggle="modal"
                                  th:data-target="${'#addDefinitionSourceLinkDlg_' + definition.id}"
                                  sec:authorize="#vars.definition.crudGrant">
                            <i class="fa fa-external-link" aria-hidden="true"></i>
                          </button>
                          ]
                        </span>
                        <div class="action-buttons-3">
                          <button type="button" class="btn badge badge-primary"
                                  title="Muuda"
                                  data-toggle="modal"
                                  th:data-target="${'#editDefinitionDlg_' + definition.id}"
                                  sec:authorize="#vars.definition.crudGrant">
                            <i class="fa fa-edit" aria-hidden="true"></i>
                          </button>
                          <button type="button" class="btn badge badge-secondary"
                                  title="Lisa märkus"
                                  data-toggle="modal"
                                  th:data-target="${'#addDefinitionNoteDlg_' + definition.id}"
                                  sec:authorize="#vars.definition.crudGrant">
                            <i class="fa fa-sticky-note-o" aria-hidden="true"></i>
                          </button>
                          <button type="button" class="btn badge badge-warning"
                                  data-op-code="definition"
                                  th:data-id="${definition.id}"
                                  data-toggle="delete-confirm"
                                  data-placement="right"
                                  sec:authorize="#vars.definition.crudGrant">
                            <i class="fa fa-remove" aria-hidden="true"></i>
                          </button>
                        </div>
                      </div>
                      <div class="hidden-buttons">
                        <span th:each="sourceLink : ${definition.sourceLinks}" th:if="${not #lists.isEmpty(definition.sourceLinks)}">
                          [
                          <a th:href="@{'/def_source_link:' + ${sourceLink.id}}" th:text="${sourceLink.value}"></a>
                          <span th:if="${sourceLink.name != null}" th:text="${sourceLink.name}"></span>
                          <button type="button" class="btn badge badge-warning"
                                  data-op-code="def_source_link"
                                  th:data-id="${sourceLink.id}"
                                  data-toggle="delete-confirm"
                                  data-placement="right"
                                  sec:authorize="#vars.definition.crudGrant">
                            <i class="fa fa-remove" aria-hidden="true"></i>
                          </button>
                          ]
                        </span>
                        <button type="button" class="btn badge badge-secondary"
                                title="Lisa allikaviide"
                                data-toggle="modal"
                                th:data-target="${'#addDefinitionSourceLinkDlg_' + definition.id}"
                                sec:authorize="#vars.definition.crudGrant">
                          <i class="fa fa-external-link" aria-hidden="true"></i>
                        </button>
                      </div>
                      <div th:if="${not #lists.isEmpty(definition.notes)}" class="col pl-0">
                        <div>
                          <span class="lbl">Märkused</span>
                        </div>
                        <div class="orderable" data-op-code="definition_note">
                          <div th:each="note,noteIter : ${definition.notes}"
                              th:data-id="${note.id}"
                              th:data-orderby="${note.orderBy}">
                            <div th:replace="termdialog :: edit_definition_note_dlg"></div>
                            <div th:replace="termdialog :: add_definition_note_source_link_dlg"></div>
                            <div style="display: list-item; position: absolute"></div>
                            <div class="action-column">
                              <th:block th:replace="common :: ordering_buttons(${noteIter})" sec:authorize="#vars.definition.crudGrant"></th:block>
                            </div>
                            <div class="small invisible-buttons action-buttons-anchor mw-80 ml-4">
                              <span th:utext="${note.valuePrese}"></span>
                              <span class="ctxt" th:text="'(' + #{'boolean.public.' + ${note.public}} + ')'" th:if="${definition.crudGrant}"></span>
                              <span class="show-on-mouseover" th:if="${#lists.isEmpty(note.sourceLinks)}">
                                [
                                <button type="button" class="btn badge badge-secondary"
                                        title="Lisa allikaviide"
                                        data-toggle="modal"
                                        th:data-target="${'#addDefinitionNoteSourceLinkDlg_' + definition.id + '_' + note.id}"
                                        sec:authorize="#vars.definition.crudGrant">
                                  <i class="fa fa-external-link" aria-hidden="true"></i>
                                </button>
                                ]
                              </span>
                              <div class="action-buttons-2">
                                <button type="button" class="btn badge badge-primary"
                                        th:title="Muuda"
                                        data-toggle="modal"
                                        th:data-target="${'#editDefinitionNoteDlg_' + definition.id + '_' + note.id}"
                                        sec:authorize="#vars.definition.crudGrant">
                                  <i class="fa fa-edit" aria-hidden="true"></i>
                                </button>
                                <button type="button" class="btn badge badge-warning"
                                        th:data-id="${note.id}"
                                        data-op-code="definition_note"
                                        data-toggle="delete-confirm"
                                        data-placement="right"
                                        sec:authorize="#vars.definition.crudGrant">
                                  <i class="fa fa-remove" aria-hidden="true"></i>
                                </button>
                              </div>
                            </div>
                            <div class="small hidden-buttons ml-4">
                              <span th:each="sourceLink : ${note.sourceLinks}">
                                [
                                <a th:href="@{'/ff_source_link:' + ${sourceLink.id}}" th:text="${sourceLink.value}"></a>
                                <span th:if="${sourceLink.name != null}">
                                  <span th:text="${sourceLink.name}"></span>
                                </span>
                                <button type="button" class="btn badge badge-warning"
                                        th:data-id="${sourceLink.id}"
                                        data-op-code="definition_ff_source_link"
                                        data-toggle="delete-confirm"
                                        data-placement="right"
                                        sec:authorize="#vars.definition.crudGrant">
                                  <i class="fa fa-remove" aria-hidden="true"></i>
                                </button>
                                ]
                              </span>
                              <button type="button" class="btn badge badge-secondary"
                                      title="Lisa allikaviide"
                                      data-toggle="modal"
                                      th:data-target="${'#addDefinitionNoteSourceLinkDlg_' + definition.id + '_' + note.id}"
                                      sec:authorize="#vars.definition.crudGrant">
                                <i class="fa fa-external-link" aria-hidden="true"></i>
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </th:block>
              </div>
            </div>
            <div class="row" th:if="${not #lists.isEmpty(meaning.noteLangGroups)}">
              <hr/>
              <div class="col pr-0 col-w13rem">
                <span class="lbl">
                  Märkused
                  <button type="button" class="btn badge badge-secondary float-right mr-4"
                          title="Lisa uus"
                          data-toggle="modal"
                          th:data-target="${'#addMeaningNoteDlg_' + meaningId}"
                          sec:authorize="#vars.meaning.crudGrant">
                    <i class="fa fa-plus" aria-hidden="true"></i>
                  </button>
                </span>
              </div>
              <div class="col pl-0">
                <th:block th:each="noteLangGroup : ${meaning.noteLangGroups}">
                  <div>
                    <span th:text="${viewUtil.getLangIso2(noteLangGroup.lang)}" class="mr-2"></span>
                    <button name="lang-collapse-btn" type="button" class="btn badge badge-secondary btn-toggle"
                            th:data-lang="${noteLangGroup.lang}"
                            th:title="${noteLangGroup.selected ? 'Peida keele grupp' : 'Näita keele grupp'}">
                      <i th:class="${noteLangGroup.selected ? 'fa fa-caret-down' : 'fa fa-caret-right'}" aria-hidden="true"></i>
                    </button>
                  </div>
                  <div th:if="${noteLangGroup.selected}" class="orderable" data-op-code="meaning_note">
                    <div class="ml-4" style="position: relative" th:each="note, itemIter: ${noteLangGroup.notes}"
                        th:data-id="${note.id}"
                        th:data-orderby="${note.orderBy}">
                      <div th:replace="termdialog :: edit_meaning_note_dlg"></div>
                      <div th:replace="termdialog :: add_meaning_note_source_link_dlg"></div>
                      <div style="display: list-item; position: absolute"></div>
                      <div class="action-column">
                        <th:block th:replace="common :: ordering_buttons(${itemIter})" sec:authorize="#vars.meaning.crudGrant"></th:block>
                      </div>
                      <div class="invisible-buttons action-buttons-anchor mw-80">
                        <span th:utext="${note.valuePrese}"></span>
                        <span class="ctxt" th:text="'(' + #{'boolean.public.' + ${note.public}} + ')'" th:if="${meaning.crudGrant}"></span>
                        <span class="show-on-mouseover" th:if="${#lists.isEmpty(note.sourceLinks)}">
                          [
                          <button type="button" class="btn badge badge-secondary"
                                  title="Lisa allikaviide"
                                  data-toggle="modal"
                                  th:data-target="${'#addMeaningNoteSourceLinkDlg_' + meaningId + '_' + note.id}"
                                  sec:authorize="#vars.meaning.crudGrant">
                            <i class="fa fa-external-link" aria-hidden="true"></i>
                          </button>
                          ]
                        </span>
                        <div class="action-buttons-2">
                          <button type="button" class="btn badge badge-primary"
                                  th:title="Muuda"
                                  data-toggle="modal"
                                  th:data-target="${'#editMeaningNoteDlg_' + meaningId + '_' + note.id}"
                                  sec:authorize="#vars.meaning.crudGrant">
                            <i class="fa fa-edit" aria-hidden="true"></i>
                          </button>
                          <button type="button" class="btn badge badge-warning"
                                  th:data-id="${note.id}"
                                  data-op-code="meaning_note"
                                  data-toggle="delete-confirm"
                                  data-placement="right"
                                  sec:authorize="#vars.meaning.crudGrant">
                            <i class="fa fa-remove" aria-hidden="true"></i>
                          </button>
                        </div>
                      </div>
                      <div class="hidden-buttons">
                        <span th:each="sourceLink : ${note.sourceLinks}">
                          [
                          <a th:href="@{'/ff_source_link:' + ${sourceLink.id}}" th:text="${sourceLink.value}"></a>
                          <span th:if="${sourceLink.name != null}">
                            <span th:text="${sourceLink.name}"></span>
                          </span>
                          <button type="button" class="btn badge badge-warning"
                                  th:data-id="${sourceLink.id}"
                                  data-op-code="meaning_ff_source_link"
                                  data-toggle="delete-confirm"
                                  data-placement="right"
                                  sec:authorize="#vars.meaning.crudGrant">
                            <i class="fa fa-remove" aria-hidden="true"></i>
                          </button>
                          ]
                        </span>
                        <button type="button" class="btn badge badge-secondary"
                                title="Lisa allikaviide"
                                data-toggle="modal"
                                th:data-target="${'#addMeaningNoteSourceLinkDlg_' + meaningId + '_' + note.id}"
                                sec:authorize="#vars.meaning.crudGrant">
                          <i class="fa fa-external-link" aria-hidden="true"></i>
                        </button>
                      </div>
                    </div>
                  </div>
                </th:block>
              </div>
            </div>
            <div class="row" th:if="${not #lists.isEmpty(meaning.images)}">
              <hr>
              <div class="col pr-0 col-w13rem">
                <span class="lbl">Pildid</span>
              </div>
              <div class="col pl-0">
                <th:block th:each="image : ${meaning.images}">
                  <div th:replace="termdialog :: add_image_title_dlg"></div>
                  <div th:replace="termdialog :: edit_image_title_dlg"></div>
                  <div th:replace="termdialog :: add_image_source_link_dlg"></div>
                  <div class="invisible-buttons action-buttons-anchor w-100">
                    <img class="w-25" th:src="@{'/files/images/' + ${image.fileName}}">
                    <span class="invisible-buttons">
                      <button type="button" class="btn badge badge-warning align-bottom"
                              title="Kustuta pilt"
                              data-op-code="meaning_image"
                              th:data-id="${image.id}"
                              data-toggle="delete-confirm"
                              sec:authorize="#vars.meaning.crudGrant">
                        <i class="fa fa-remove" aria-hidden="true"></i>
                      </button>
                    </span>
                    <span th:if="${#strings.isEmpty(image.title)}">
                      <button type="button" class="btn badge badge-secondary align-bottom"
                              title="Lisa pealkiri"
                              data-toggle="modal"
                              th:data-target="${'#addImageTitleDlg_' + image.id}"
                              sec:authorize="#vars.meaning.crudGrant">
                        <i class="fa fa-plus" aria-hidden="true"></i>
                      </button>
                      <button type="button" class="btn badge badge-secondary align-bottom"
                              title="Lisa allikaviide"
                              data-toggle="modal"
                              th:data-target="${'#addImageSourceLinkDlg_' + image.id}"
                              sec:authorize="#vars.meaning.crudGrant">
                        <i class="fa fa-external-link" aria-hidden="true"></i>
                      </button>
                    </span>
                  </div>
                  <div class="col pl-0" th:if="${#strings.isEmpty(image.title)}">
                    <span th:each="sourceLink : ${image.sourceLinks}" class="hidden-buttons">
                      [
                      <a th:href="@{'/ff_source_link:' + ${sourceLink.id}}" th:text="${sourceLink.value}"></a>
                      <span th:if="${sourceLink.name != null}">
                        <span th:text="${sourceLink.name}"></span>
                      </span>
                      <button type="button" class="btn badge badge-warning"
                              th:data-id="${sourceLink.id}"
                              data-op-code="meaning_ff_source_link"
                              data-toggle="delete-confirm"
                              data-placement="right"
                              sec:authorize="#vars.meaning.crudGrant">
                        <i class="fa fa-remove" aria-hidden="true"></i>
                      </button>
                      ]
                    </span>
                  </div>
                  <div th:unless="${#strings.isEmpty(image.title)}">
                    <div class="invisible-buttons action-buttons-anchor mw-80">
                      <span th:text="${image.title}"></span>
                      <span class="show-on-mouseover" th:if="${#lists.isEmpty(image.sourceLinks)}">
                        [
                        <button type="button" class="btn badge badge-secondary"
                                title="Lisa allikaviide"
                                data-toggle="modal"
                                th:data-target="${'#addImageSourceLinkDlg_' + image.id}"
                                sec:authorize="#vars.meaning.crudGrant">
                          <i class="fa fa-external-link" aria-hidden="true"></i>
                        </button>
                        ]
                      </span>
                      <div class="action-buttons-2">
                        <button type="button" class="btn badge badge-primary"
                                th:title="Muuda"
                                data-toggle="modal"
                                th:data-target="${'#editImageTitleDlg_' + image.id}"
                                sec:authorize="#vars.meaning.crudGrant">
                          <i class="fa fa-edit" aria-hidden="true"></i>
                        </button>
                        <button type="button" class="btn badge badge-warning"
                                th:data-id="${image.id}"
                                data-op-code="image_title"
                                data-toggle="delete-confirm"
                                data-placement="right"
                                sec:authorize="#vars.meaning.crudGrant">
                          <i class="fa fa-remove" aria-hidden="true"></i>
                        </button>
                      </div>
                    </div>
                    <div class="hidden-buttons">
                      <span th:each="sourceLink : ${image.sourceLinks}">
                        [
                        <a th:href="@{'/ff_source_link:' + ${sourceLink.id}}" th:text="${sourceLink.value}"></a>
                        <span th:if="${sourceLink.name != null}">
                          <span th:text="${sourceLink.name}"></span>
                        </span>
                        <button type="button" class="btn badge badge-warning"
                                th:data-id="${sourceLink.id}"
                                data-op-code="meaning_ff_source_link"
                                data-toggle="delete-confirm"
                                data-placement="right"
                                sec:authorize="#vars.meaning.crudGrant">
                          <i class="fa fa-remove" aria-hidden="true"></i>
                        </button>
                        ]
                      </span>
                      <button type="button" class="btn badge badge-secondary"
                              title="Lisa allikaviide"
                              data-toggle="modal"
                              th:data-target="${'#addImageSourceLinkDlg_' + image.id}"
                              sec:authorize="#vars.meaning.crudGrant">
                        <i class="fa fa-external-link" aria-hidden="true"></i>
                      </button>
                    </div>
                    <hr>
                  </div>
                </th:block>
              </div>
            </div>
            <div class="row" th:if="${not #lists.isEmpty(meaning.freeforms)}">
              <hr/>
              <div class="col pr-0 col-w13rem">
                <span class="lbl">Tähenduse atribuudid</span>
              </div>
              <div class="col pl-0">
                <table>
                  <tr th:each="freeform : ${meaning.freeforms}">
                    <td style="vertical-align: text-top; padding-right: 1em">
                      <span th:text="${freeform.type}"></span>
                    </td>
                    <td>
                      <span th:utext="${freeform.valueText}" th:if="${freeform.valueText != null}"></span>
                      <span th:text="${#dates.format(freeform.valueDate, 'dd.MM.yyyy HH:mm')}" th:if="${freeform.valueDate != null}"></span>
                    </td>
                  </tr>
                </table>
              </div>
            </div>
            <div class="row" th:if="${not #lists.isEmpty(meaning.viewRelations)}">
              <hr/>
              <div class="col pr-0 col-w13rem">
                <span class="lbl">Tähenduse seosed</span>
                <button type="button" class="btn badge badge-secondary float-right mr-4"
                        title="Lisa seos"
                        data-toggle="modal"
                        th:data-target="${'#addMeaningRelationDlg_' + meaningId}"
                        sec:authorize="#vars.meaning.crudGrant">
                  <i class="fa fa-plus" aria-hidden="true"></i>
                </button>
              </div>
              <div class="col pl-0">
                <table class="table table-striped" th:if="${not #lists.isEmpty(meaning.viewRelations)}">
                  <tr th:each="relations : ${meaning.viewRelations}" class="hidden-buttons">
                    <td class="pr-3" th:if="${userProfile.showMeaningRelationMeaningId}">
                      <span class="text-monospace" th:text="${relations.get(0).meaningId}"></span>
                    </td>
                    <td class="pr-3">
                      <th:block th:each="relation, relIter : ${relations}">
                        <button type="button" class="btn btn-link p-0" th:data-id="${relation.meaningId}" name="meaning-details-btn">
                          <span th:utext="${viewUtil.getWordValueMarkup(relation)}"></span>
                          <span th:text="${'(' + viewUtil.getLangIso2(relation.wordLang) + ')'}"></span>
                          <th:block th:each="datasetCode, dsIter : ${relation.datasetCodes}">
                            <span th:if="${dsIter.first}">[</span>
                            <span th:text="${datasetCode}"></span>
                            <span th:unless="${dsIter.last}">,</span>
                            <span th:if="${dsIter.last}">]</span>
                          </th:block>
                          <th:block th:unless="${#strings.isEmpty(relation.wordAspectCode)}">
                            <span th:text="${'[' + relation.wordAspectCode + ']'}"></span>
                          </th:block>
                          <th:block th:each="valueStateCode, vsIter : ${relation.lexemeValueStateCodes}">
                            <span th:if="${vsIter.first}">[</span>
                            <span th:text="${valueStateCode}"></span>
                            <span th:unless="${vsIter.last}">,</span>
                            <span th:if="${vsIter.last}">]</span>
                          </th:block>
                          <th:block th:each="registerCode, rIter : ${relation.lexemeRegisterCodes}">
                            <span th:if="${rIter.first}">[</span>
                            <span th:text="${registerCode}"></span>
                            <span th:unless="${rIter.last}">,</span>
                            <span th:if="${rIter.last}">]</span>
                          </th:block>
                          <th:block th:each="government, gIter : ${relation.lexemeGovernmentValues}">
                            <span th:if="${gIter.first}">[</span>
                            <span th:utext="${government}"></span>
                            <span th:unless="${gIter.last}">,</span>
                            <span th:if="${gIter.last}">]</span>
                          </th:block>
                        </button>
                        <span th:unless="${relIter.last}">,</span>
                      </th:block>
                    </td>
                    <td>
                      <span th:text="${relations.get(0).relTypeLabel}"></span>
                      <button type="button" class="btn badge badge-warning"
                              data-placement="right"
                              th:data-id="${relations.get(0).id}"
                              data-op-code="meaning_relation"
                              data-toggle="delete-confirm"
                              sec:authorize="#vars.meaning.crudGrant">
                        <i class="fa fa-remove" aria-hidden="true"></i>
                      </button>
                    </td>
                  </tr>
                </table>
              </div>
            </div>
            
          </div>
        </div>
        <th:block th:each="lexemeLangGroup : ${meaning.lexemeLangGroups}">
          <div class="lang-block">
            <div class="block-title">
              <button name="lang-collapse-btn" type="button" class="btn-lang"
                th:data-lang="${lexemeLangGroup.lang}"
                th:title="${lexemeLangGroup.selected ? 'Peida keele grupp' : 'Näita keele gruppi'}">
                <i th:class="${lexemeLangGroup.selected ? 'fa fa-caret-down' : 'fa fa-caret-right'}" aria-hidden="true"></i>
              </button>
              <span th:text="${viewUtil.getLangIso2(lexemeLangGroup.lang)}" class="ml-2"></span>
            </div>
            <div class="orderable" data-op-code="lexeme">
              <div th:each="lexeme,itemIter : ${lexemeLangGroup.lexemes}"
                  th:if="${lexemeLangGroup.selected}"
                  th:data-id="${lexeme.lexemeId}"
                  th:data-orderby="${lexeme.orderBy}"
                  class="card border-0 border-top-1">
                <div th:replace="termdialog :: add_lexeme_data_dlg"></div>
                <div th:replace="termdialog :: add_lexeme_source_link_dlg"></div>
                <div th:replace="termdialog :: add_usage_dlg"></div>
                <div th:replace="termdialog :: add_lexeme_relation_dlg"></div>
                <div th:replace="termdialog :: add_lexeme_note_dlg"></div>
                <div th:replace="termdialog :: add_lexeme_tag_dlg"></div>
                <div th:replace="termdialog :: edit_lexeme_publicity_dlg"></div>
                <div th:replace="termdialog :: edit_lexeme_value_state_dlg"></div>
                <div th:replace="termdialog :: edit_lexeme_frequency_group_dlg"></div>
                <div th:replace="termdialog :: edit_word_value_dlg"></div>
                <div th:replace="termdialog :: edit_word_gender_dlg"></div>
                <div th:replace="termdialog :: edit_word_lang_dlg"></div>
                <div class="card-body pb-4" th:data-toggle-name="${'lexBody_' + lexeme.lexemeId}">
                  <div class="block-subtitle">
                    <div class="d-flex align-items-center flex-wrap">
                      <div class="hidden-buttons">
                        <span th:data-id="${lexeme.wordId}" th:id="${'word-value-' + lexeme.wordId}" th:utext="${viewUtil.getWordValueMarkup(lexeme.word)}" class="ttl word-value"></span>
                        <button type="button" class="btn badge badge-primary"
                                title="Muuda"
                                data-toggle="modal"
                                th:data-target="${'#editWordValueDlg_' + lexeme.wordId}"
                                sec:authorize="${#vars.lexeme.word.crudGrant}">
                          <i class="fa fa-edit" aria-hidden="true"></i>
                        </button>
                      </div>
                      <span th:if="${lexeme.word.displayMorphCode != null}" th:text="${lexeme.word.displayMorphCode}" class="pl-1"></span>

                      <button class="btn" data-plugin="identificator"><span class="fa fa-info-circle"></span></button>
                      <button type="button" class="btn badge badge-secondary float-right mt-1"
                              title="Lisa andmeid"
                              data-toggle="modal"
                              th:data-target="${'#addLexemeDataDlg_' + lexeme.lexemeId}"
                              sec:authorize="#vars.lexeme.crudGrant">
                        <i class="fa fa-plus" aria-hidden="true"></i>
                      </button>
                      <button
                        class="btn"
                        data-plugin="status"
                        sec:authorize="#vars.lexeme.crudGrant"
                      ><span class="fa"></span></button>
                      <span class="valuestatus" data-plugin="valueStatus"></span>
                    </div>
                    <div class="ml-auto">
                      <span th:text="${lexeme.datasetName}"></span>
                    </div>
                    <div class="ml-2">
                      <button type="button" class="btn btn-link"
                              th:data-id="${lexeme.lexemeId}"
                              data-callback="refreshDetailsTermsSearch"
                              data-toggle="deleteLexemeAndWordAndMeaning"
                              sec:authorize="#vars.lexeme.crudGrant">Eemalda
                      </button>
                    </div>
                    <div class="ml-2">
                      <th:block th:replace="common :: ordering_buttons(${itemIter})" sec:authorize="#vars.meaning.crudGrant"></th:block>
                    </div>
                  </div>
                  <div>
                    <span th:unless="${lexeme.classifiersExist}">&nbsp;</span>
                    <div th:replace="termcomp :: data_ids"></div>
                    <div th:replace="termcomp :: tags"></div>
                    <div th:replace="termcomp :: lexeme_complexity"></div>
                    <div th:replace="termcomp :: lexeme_publicity"></div>
                    <div th:replace="termcomp :: lexeme_value_state"></div>
                    <div th:replace="termcomp :: word_gender"></div>
                    <div th:replace="termcomp :: word_lang"></div>
                    <div th:replace="termcomp :: word_type"></div>
                    <div th:replace="termcomp :: lexeme_frequency_group"></div>
                    <div th:replace="termcomp :: lexeme_grammar"></div>
                    <div th:replace="termcomp :: lexeme_pos"></div>
                    <div th:replace="termcomp :: lexeme_derivative"></div>
                    <div th:replace="termcomp :: lexeme_register"></div>
                    <div th:replace="termcomp :: lexeme_region"></div>
                  </div>
                  <div class="row mt-2" th:if="${not #lists.isEmpty(lexeme.sourceLinks)}">
                    <hr/>
                    <div class="col pr-0 col-w13rem">
                      <span class="lbl">Allikaviide</span>
                      <button type="button" class="btn badge badge-secondary float-right mr-4"
                              title="Lisa allikaviide"
                              data-toggle="modal"
                              th:data-target="${'#addLexemeSourceLinkDlg_' + lexeme.lexemeId}"
                              sec:authorize="#vars.lexeme.crudGrant">
                        <i class="fa fa-external-link" aria-hidden="true"></i>
                      </button>
                    </div>
                    <div class="col pl-0">
                      <span th:each="sourceLink : ${lexeme.sourceLinks}" class="hidden-buttons">
                        [
                        <a th:href="@{'/lex_source_link:' + ${sourceLink.id}}" th:text="${sourceLink.value}"></a>
                        <span th:if="${sourceLink.name != null}">
                          <span th:text="${sourceLink.name}"></span>
                        </span>
                        <button type="button" class="btn badge badge-warning"
                                data-placement="right"
                                th:data-id="${sourceLink.id}"
                                data-op-code="lex_source_link"
                                data-toggle="delete-confirm"
                                sec:authorize="#vars.lexeme.crudGrant">
                          <i class="fa fa-remove" aria-hidden="true"></i>
                        </button>
                        ]
                      </span>
                    </div>
                  </div>
                  <div class="row" th:if="${not #lists.isEmpty(lexeme.usages)}">
                    <hr/>
                    <div class="col pr-0 col-w13rem">
                      <span class="lbl">Kasutusnäited</span>
                      <button type="button" class="btn badge badge-secondary float-right mr-4"
                              title="Lisa uus"
                              data-toggle="modal"
                              th:data-target="${'#addUsageDlg_' + lexeme.lexemeId}"
                              sec:authorize="#vars.lexeme.crudGrant">
                        <i class="fa fa-plus" aria-hidden="true"></i>
                      </button>
                    </div>
                    <div class="col pl-0">
                      <div th:each="usage : ${lexeme.usages}">
                        <div th:replace="termdialog :: edit_usage_dlg"></div>
                        <div th:replace="termdialog :: add_usage_source_link_dlg"></div>
                        <div class="invisible-buttons action-buttons-anchor mw-80 ml-3">
                          <div style="display: list-item; position: absolute"></div>
                          <span th:utext="${usage.value}"></span>
                          <span th:if="${usage.typeValue != null}" th:text="'(' + ${usage.typeValue + ')'}"></span>
                          <div class="d-inline-block ctxt" th:text="'(' + #{'boolean.public.' + ${usage.public}} + ')'" th:if="${usage.crudGrant}"></div>
                          <span th:if="${not #lists.isEmpty(usage.authors)}">
                            (
                            <span th:each="sourceLink,sourceLinkIter : ${usage.authors}">
                              <span th:text="#{'enum.reference.type.' + ${sourceLink.type}} + ': '"></span>
                              <a th:href="@{'/ff_source_link:' + ${sourceLink.id}}" th:text="${sourceLink.value}" th:if="${sourceLink.value != null}"></a>
                              <span th:if="${sourceLink.name != null}">
                                <span th:text="${sourceLink.name}"></span>
                              </span>
                              <span th:unless="${sourceLinkIter.last}">, </span>
                            </span>
                            )
                          </span>
                          <span class="show-on-mouseover" th:if="${#lists.isEmpty(usage.sourceLinks)}">
                            [
                            <button type="button" class="btn badge badge-secondary"
                                    title="Lisa allikaviide"
                                    data-toggle="modal"
                                    th:data-target="${'#addUsageSourceLinkDlg_' + usage.id}"
                                    sec:authorize="#vars.usage.crudGrant">
                              <i class="fa fa-external-link" aria-hidden="true"></i>
                            </button>
                            ]
                          </span>
                          <div class="action-buttons-2">
                            <button type="button" class="btn badge badge-primary"
                                    title="Muuda"
                                    data-toggle="modal"
                                    th:data-target="${'#editUsageDlg_' + lexeme.lexemeId + '_' + usage.id}"
                                    sec:authorize="#vars.usage.crudGrant">
                              <i class="fa fa-edit" aria-hidden="true"></i>
                            </button>
                            <button type="button" class="btn badge badge-warning"
                                    th:data-id="${usage.id}"
                                    data-op-code="usage"
                                    data-toggle="delete-confirm"
                                    data-placement="right"
                                    sec:authorize="#vars.usage.crudGrant">
                              <i class="fa fa-remove" aria-hidden="true"></i>
                            </button>
                          </div>
                        </div>
                        <div class="hidden-buttons" th:if="${not #lists.isEmpty(usage.sourceLinks)}">
                          <span th:each="sourceLink : ${usage.sourceLinks}">
                            [
                            <a th:href="@{'/ff_source_link:' + ${sourceLink.id}}" th:text="${sourceLink.value}"></a>
                            <span th:text="${sourceLink.name}" th:if="${sourceLink.name != null}"></span>
                            <button type="button" class="btn badge badge-warning"
                                    th:data-id="${sourceLink.id}"
                                    data-op-code="usage_source_link"
                                    data-toggle="delete-confirm"
                                    data-placement="right"
                                    sec:authorize="#vars.usage.crudGrant">
                              <i class="fa fa-remove" aria-hidden="true"></i>
                            </button>
                            ]
                          </span>
                          <button type="button" class="btn badge badge-secondary"
                                  title="Lisa allikaviide"
                                  data-toggle="modal"
                                  th:data-target="${'#addUsageSourceLinkDlg_' + usage.id}"
                                  sec:authorize="#vars.usage.crudGrant">
                            <i class="fa fa-external-link" aria-hidden="true"></i>
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="row" th:if="${not #lists.isEmpty(lexeme.lexemeRelations)}">
                    <hr/>
                    <div class="col pr-0 col-w13rem">
                      <span class="lbl">Ilmiku seosed</span>
                      <button type="button" class="btn badge badge-secondary float-right mr-4"
                              title="Lisa seos"
                              data-toggle="modal"
                              th:data-target="${'#addLexemeRelationDlg_' + lexeme.lexemeId}"
                              sec:authorize="#vars.lexeme.crudGrant">
                        <i class="fa fa-plus" aria-hidden="true"></i>
                      </button>
                    </div>
                    <div class="col pl-0">
                      <table class="orderable" data-op-code="lexeme_relation" th:if="${not #lists.isEmpty(lexeme.lexemeRelations)}">
                        <tr th:each="relation, itemIter : ${lexeme.lexemeRelations}" th:data-id="${relation.id}" th:data-orderby="${relation.orderBy}">
                          <td class="action-column">
                            <th:block th:replace="common :: ordering_buttons(${itemIter})" sec:authorize="#vars.lexeme.crudGrant"></th:block>
                          </td>
                          <td class="pr-3 invisible-buttons">
                            <button type="button" class="btn btn-link btn-xs" th:data-id="${relation.meaningId}" name="meaning-details-btn">
                              <span th:utext="${viewUtil.getWordValueMarkup(relation) + ' (' + viewUtil.getLangIso2(relation.wordLang) + ')'}"></span>
                            </button>
                            <button type="button" class="btn badge badge-warning"
                                    th:data-id="${relation.id}"
                                    data-op-code="lexeme_relation"
                                    data-toggle="delete-confirm"
                                    data-placement="left"
                                    sec:authorize="#vars.lexeme.crudGrant">
                              <i class="fa fa-remove" aria-hidden="true"></i>
                            </button>
                          </td>
                          <td class="invisible-buttons">
                            <span th:text="${relation.relTypeLabel}"></span>
                          </td>
                        </tr>
                      </table>
                    </div>
                  </div>
                  <div class="row" th:if="${not #lists.isEmpty(lexeme.noteLangGroups)}">
                    <hr/>
                    <div class="col pr-0 col-w13rem">
                      <span class="lbl">
                        Märkused
                        <button type="button" class="btn badge badge-secondary float-right mr-4"
                                title="Lisa uus"
                                data-toggle="modal"
                                th:data-target="${'#addLexemeNoteDlg_' + lexeme.lexemeId}"
                                sec:authorize="#vars.lexeme.crudGrant">
                          <i class="fa fa-plus" aria-hidden="true"></i>
                        </button>
                      </span>
                    </div>
                    <div class="col pl-0">
                      <th:block th:each="noteLangGroup : ${lexeme.noteLangGroups}">
                        <div>
                          <span th:text="${viewUtil.getLangIso2(noteLangGroup.lang)}" class="mr-2"></span>
                          <button name="lang-collapse-btn" type="button" class="btn badge badge-secondary btn-toggle"
                                  th:data-lang="${noteLangGroup.lang}"
                                  th:title="${noteLangGroup.selected ? 'Peida keele grupp' : 'Näita keele grupp'}">
                            <i th:class="${noteLangGroup.selected ? 'fa fa-caret-down' : 'fa fa-caret-right'}" aria-hidden="true"></i>
                          </button>
                        </div>
                        <div th:if="${noteLangGroup.selected}" class="orderable" data-op-code="lexeme_note">
                          <div class="ml-4" style="position: relative" th:each="note, itemIter: ${noteLangGroup.notes}"
                              th:data-id="${note.id}"
                              th:data-orderby="${note.orderBy}">
                            <div th:replace="termdialog :: edit_lexeme_note_dlg"></div>
                            <div th:replace="termdialog :: add_lexeme_note_source_link_dlg"></div>
                            <div style="display: list-item; position: absolute"></div>
                            <div class="action-column">
                              <th:block th:replace="common :: ordering_buttons(${itemIter})" sec:authorize="#vars.lexeme.crudGrant"></th:block>
                            </div>
                            <div class="invisible-buttons action-buttons-anchor mw-80">
                              <span th:utext="${note.valuePrese}"></span>
                              <span class="ctxt" th:text="'(' + #{'boolean.public.' + ${note.public}} + ')'" th:if="${lexeme.crudGrant}"></span>
                              <span class="show-on-mouseover" th:if="${#lists.isEmpty(note.sourceLinks)}">
                                [
                                <button type="button" class="btn badge badge-secondary"
                                        title="Lisa allikaviide"
                                        data-toggle="modal"
                                        th:data-target="${'#addLexemeNoteSourceLinkDlg_' + lexeme.lexemeId + '_' + note.id}"
                                        sec:authorize="#vars.lexeme.crudGrant">
                                  <i class="fa fa-external-link" aria-hidden="true"></i>
                                </button>
                                ]
                              </span>
                              <div class="action-buttons-2">
                                <button type="button" class="btn badge badge-primary"
                                        title="Muuda"
                                        data-toggle="modal"
                                        th:data-target="${'#editLexemeNoteDlg_' + lexeme.lexemeId + '_' + note.id}"
                                        sec:authorize="#vars.lexeme.crudGrant">
                                  <i class="fa fa-edit" aria-hidden="true"></i>
                                </button>
                                <button type="button" class="btn badge badge-warning"
                                        th:data-id="${note.id}"
                                        data-op-code="lexeme_note"
                                        data-toggle="delete-confirm"
                                        data-placement="right"
                                        sec:authorize="#vars.lexeme.crudGrant">
                                  <i class="fa fa-remove" aria-hidden="true"></i>
                                </button>
                              </div>
                            </div>
                            <div class="hidden-buttons">
                              <span th:each="sourceLink : ${note.sourceLinks}">
                                [
                                <a th:href="@{'/ff_source_link:' + ${sourceLink.id}}" th:text="${sourceLink.value}"></a>
                                <span th:if="${sourceLink.name != null}">
                                  <span th:text="${sourceLink.name}"></span>
                                </span>
                                <button type="button" class="btn badge badge-warning"
                                        th:data-id="${sourceLink.id}"
                                        data-op-code="lexeme_ff_source_link"
                                        data-toggle="delete-confirm"
                                        data-placement="right"
                                        sec:authorize="#vars.lexeme.crudGrant">
                                  <i class="fa fa-remove" aria-hidden="true"></i>
                                </button>
                                ]
                              </span>
                              <button type="button" class="btn badge badge-secondary"
                                      title="Lisa allikaviide"
                                      data-toggle="modal"
                                      th:data-target="${'#addLexemeNoteSourceLinkDlg_' + lexeme.lexemeId + '_' + note.id}"
                                      sec:authorize="#vars.lexeme.crudGrant">
                                <i class="fa fa-external-link" aria-hidden="true"></i>
                              </button>
                            </div>
                          </div>
                        </div>
                      </th:block>
                    </div>
                  </div>
                  <div th:if="${not #lists.isEmpty(lexeme.freeforms)}" class="row">
                    <hr/>
                    <div class="col pr-0 col-w13rem">
                      <span class="lbl">Ilmiku atribuudid</span>
                    </div>
                    <div class="col pl-0">
                      <table>
                        <tr th:each="freeform : ${lexeme.freeforms}">
                          <td style="vertical-align: text-top; padding-right: 1em">
                            <span th:text="${freeform.type}"></span>
                          </td>
                          <td>
                            <span th:utext="${freeform.valueText}" th:if="${freeform.valueText != null}"></span>
                            <span th:text="${#dates.format(freeform.valueDate, 'dd.MM.yyyy HH:mm')}" th:if="${freeform.valueDate != null}"></span>
                          </td>
                        </tr>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div><!--/lang-block-->
        </th:block>
        <div th:replace="common :: #meaningActivityLogDlg"></div>
      </div>
      <script th:replace="common :: confirmations"></script>
      <script>
        $('[data-toggle=deleteMeaningAndLexemesAndWords]').confirmation({
          btnOkLabel : 'Jah',
          btnCancelLabel : 'Ei',
          title : 'Kinnita kustutamine',
          onConfirm : deleteMeaningAndLexemesAndWords
        });
        $('[data-toggle=deleteLexemeAndWordAndMeaning]').confirmation({
          btnOkLabel : 'Jah',
          btnCancelLabel : 'Ei',
          title : 'Kinnita kustutamine',
          onConfirm : deleteLexemeAndWordAndMeaning
        });
  	  </script>
    </div>
  </th:block>
  <div th:replace="common :: #sourceDetailsDlg"></div>
  <div th:replace="common :: #alertDlg"></div>
  <div th:replace="common :: #confirmDlg"></div>
  <div th:replace="common :: #waitDlg"></div>
  <div th:replace="termdialog :: new_word_dlg"></div>
  <div th:replace="sourcedialog :: add_source_dlg('term_search')"></div>
  <script th:inline="javascript">
    $(function(){
      initializeSearch('term');
    });
  </script>
</body>
</html>
